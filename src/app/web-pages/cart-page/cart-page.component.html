<page-loader [loading]="loading"></page-loader>

<div class="container py-3" *ngIf="!loading">

  <div class="row justify-content-center">
    <div class="col-12 col-sm-10 col-md-11 col-lg-11">
      <div class="product-trails">
        <ul>
          <li> <a routerLink="/" class="pointer"> Home </a> </li>
          <li> Cart </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="row justify-content-center">

    <div class="col-12 col-md-12 col-lg-7">

      <!-- <pre>
        {{cart | json}}
      </pre> -->

      <cart-page-product *ngFor="let cartItem of cart; let sn = index" [cartItem]="cartItem" [itemNo]="sn"
      (update)="updated()"> </cart-page-product>

    </div>

    <div class="col-12 col-md-12 col-lg-4">
      <div class="items-bill" fxLayout="column" fxLayoutGap="20px" *ngIf="!billLoading && !loading">
        <div class="bill-heading"> Bill Details </div>
        <div >
          <div class="d-flex justify-content-between my-3">
            <span class="items-title"> Subtotal </span>
            <span class="items-price"> {{totalCartPrice | currency:'₹'}} </span>
          </div>
          <div class="d-flex justify-content-between mb-3">
            <span class="items-title"> Delivery Charge </span>
            <span class="items-price"> {{ (deliveryCharge == 0) ? 'Free':(deliveryCharge | currency:'₹') }} </span>
          </div>
          <div>
            <hr class="mt-0 mb-3">
          </div>
          <div class="d-flex justify-content-between mb-5">
            <span class="items-grand-title"> Total </span>
            <span class="items-grand-total"> {{grandTotal | currency:'₹'}} </span>
          </div>
          <button type="button" class="btn-checkout" (click)="checkout()"> Proceed to Checkout </button>
        </div>
      </div>

    </div>

  </div>

</div>
