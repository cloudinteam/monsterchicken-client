<div class="row">

  <div class="col-12 col-md-6">
    <div class="row">
      <div class="col-12">
        <div class="p-input-icon-right w-100 mb-3">
          <i class="pi pi-search fw-bold text-dark"></i>
          <input type="text" class="form-control form-control-md" ngx-google-places-autocomplete (onAddressChange)="AddressChange($event)" [(ngModel)]="searchString" #searchInput
             placeholder="Search for your location" (keyup)="searchFn()"/>
          <!-- #searchInput="ngx-places" (keyup)="searchFn()" [formControl]="autocompleteInputControl"  -->

        </div>
      </div>
    </div>
    <google-map height="470px" width="100%" [center]="mapMarker" [zoom]="zoom" (mapClick)="moveMap($event)"
      (mapMousemove)="move($event)">
      <map-marker *ngIf="mapMarker" [position]="mapMarker" (mapClick)="moveMap($event)" (mapDragend)="moveMap($event)"
        [options]="markerOptions"></map-marker>
    </google-map>
  </div>

  <div class="col-12 col-md-6">

    <form [formGroup]="addressForm" (submit)="submit()">

      <div class="form-group mb-3">
        <label> Area/Locality </label>
        <input type="text" required="" name="area" formControlName="area" placeholder="Search for Area/Locality" class="form-control" />
        <div *ngIf="submitted && addressFormControl.area.errors" class="invalid-error">
          <span *ngIf="addressFormControl.area.errors.required">Area is Required</span>
        </div>
      </div>

      <div class="form-group mb-3">
        <label> Flat no / Building name / Street name </label>
        <input type="text" name="streetName" formControlName="streetName" placeholder="Flat no / Building name / Street name" class="form-control" />
        <div *ngIf="submitted && addressFormControl.streetName.errors" class="invalid-error">
          <span *ngIf="addressFormControl.streetName.errors.required">* Required</span>
        </div>
      </div>

      <div class="form-group mb-3">
        <label> Landmark </label>
        <input type="text" name="landMark" formControlName="landMark" placeholder="Landmark" class="form-control" />
        <div *ngIf="submitted && addressFormControl.landMark.errors" class="invalid-error">
          <span *ngIf="addressFormControl.landMark.errors.required">* Required</span>
        </div>
      </div>

      <div class="form-group mb-3">
        <label> State </label>
        <input type="text" required="" name="state" formControlName="state" placeholder="State" class="form-control" />
        <div *ngIf="submitted && addressFormControl.state.errors" class="invalid-error">
          <span *ngIf="addressFormControl.state.errors.required">* Required</span>
        </div>
      </div>

      <div class="form-group mb-3">
        <label> City </label>
        <input type="text" required="" name="city" formControlName="city" placeholder="City" class="form-control" />
        <div *ngIf="submitted && addressFormControl.city.errors" class="invalid-error">
          <span *ngIf="addressFormControl.city.errors.required">* Required</span>
        </div>
      </div>

      <div class="form-group mb-3">
        <label> Mobile Number </label>
        <input type="text" required="" name="number" formControlName="number" placeholder="Number" class="form-control" />
        <div *ngIf="submitted && addressFormControl.number.errors" class="invalid-error">
          <span *ngIf="addressFormControl.number.errors.required">* Required</span>
        </div>
      </div>

      <div class="form-group">
        <button type="submit" class="btn btn-dark w-100">
          Submit
        </button>
      </div>

    </form>
<!-- <pre>
  {{ this.geoResult | json }}
</pre>
    <pre> {{this.addressForm.value | json}} </pre>

  </div> -->

</div>


<ng-template #locationAllow role="document" let-modal>

  <div class="modal-body">
    <div class="text-center">
      <div class="alert alert-danger text-center" role="alert">
        Allow location permission in your browser.
      </div>
      <button type="button" (click)="closeBlocker()" class="btn btn-dark btn-sm px-3" id="btn-save-event"> Close
      </button>
    </div>
  </div>

</ng-template>

